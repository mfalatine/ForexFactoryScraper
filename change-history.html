<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Change History - Forex Factory Data Scraper</title>
    <meta name="description" content="Change history and change log for the Forex Factory Data Scraper site.">
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; }
        header { background: white; border-radius: 15px; padding: 30px; margin-bottom: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.2); }
        h1 { color: #1e3c72; margin: 0; }
        .card { background: white; border-radius: 15px; padding: 20px 25px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); }
        .entry { border-left: 4px solid #667eea; padding-left: 12px; margin: 18px 0; }
        .date { font-weight: 700; color: #1e3c72; }
        .desc { color: #333; margin-top: 4px; }
        .back { display: inline-block; margin-bottom: 16px; color: #1e3c72; font-weight: 600; text-decoration: none; }
        .back:hover { text-decoration: underline; }
    </style>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // If query contains ?from=index allow a back link to try to preserve flow
        });
    </script>
    </head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ“Œ Change History - Forex Factory Data Scraper</h1>
        </header>
        <div class="card">
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-25]</span> <strong>X46: Complete Timezone Fix - Open in FF Button</strong> - Fixed final timezone issue where Open in FF button generated URLs with dates one day off from displayed table. Updated openInForexFactory function to parse date components directly instead of using Date constructor, eliminating timezone interpretation issues. ForexFactory website now shows exact same date range as scraper table.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-25]</span> <strong>X45: Eliminate All Timezone Issues</strong> - Completely removed timezone processing from backend scrape.js and fixed getDayOfWeek function to parse date components directly. Eliminated day-off and hour-off problems that were recurring issues. ForexFactory times and dates now kept exactly as provided without any timezone adjustments. Times between website and displayed table now match perfectly.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-25]</span> <strong>X44: Day of Week Column Enhancement</strong> - Added new Day of Week column as first column in both displayed table and CSV exports, showing Monday, Tuesday, etc. for better weekly planning. Implemented getDayOfWeek helper function with timezone-safe date parsing. All existing columns shifted right to accommodate new Day column.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-25]</span> <strong>X43: Clean Interface - Remove Event ID Column</strong> - Removed Event ID column from displayed table for cleaner interface while maintaining full data availability in CSV exports. Reduced table from 13 to 12 columns for better visual organization.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-25]</span> <strong>X41: Event Type Classification & Filter Consistency</strong> - Integrated EventTypes.csv lookup table to add accurate Event Type columns to both display table and CSV exports. Created EventCrawler tool for comprehensive ForexFactory event type mapping collection across full year of data. Fixed quick links to apply UI filter settings consistently with manual date selectors. Added week day range clarification and enhanced quick links with button styling.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-25]</span> <strong>X38: EventCrawler & Enhanced Data Export</strong> - Created EventCrawler tool for comprehensive ForexFactory event type mapping collection. Added CSV export with all 24+ data fields including rich metadata, URLs, and timestamps. Fixed month data loading by removing search limits and unnecessary filtering. Implemented mutual exclusion between week/month selections. Enhanced quick links with button styling and improved Open in FF button sizing.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-25]</span> <strong>X31: Month Data Loading Fix</strong> - Resolved critical issue where certain months (February, April, May) returned test data instead of real ForexFactory events. Fixed JSON extraction algorithm that was failing on large HTML responses due to 500K character search limit. All months now load correctly with full event data.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-25]</span> <strong>X29: Backend Filtering Optimization</strong> - Removed unnecessary month filtering logic that was incorrectly removing events after ForexFactory had already filtered them. Download buttons now export actual table data instead of re-querying API, ensuring downloads match displayed results for multiple month/week selections.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-25]</span> <strong>X26: Mutual Exclusion & UI Improvements</strong> - Implemented mutual exclusion between week and month selections to prevent data conflicts. Added week day range clarification (Sunday-Saturday) to interface. Enhanced quick links with proper button styling and improved spacing.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-25]</span> <strong>X24: Compact Layout & UI Redesign</strong> - Completely redesigned interface for better space utilization. Removed expandable popups and made week/month selectors always visible in a side-by-side layout. Moved filters and quick links below date selectors in organized sections. Reduced font sizes by 2-3 points across entire site and tightened all spacing for more professional, compact appearance. Enhanced mobile responsiveness with optimized single-column layouts.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-25]</span> <strong>X23: Advanced Date Range Selection System</strong> - Major enhancement replacing single date input with sophisticated week/month selector system supporting 2007-2035 date ranges. Added comprehensive DateRangeManager class with navigation controls, batch data loading with progress indicators, smart filter integration mapping UI to ForexFactory numeric codes, and enhanced backend parameter parsing. Includes responsive design, loading overlays, and ForexFactory link generation.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-24]</span> Implemented table pagination with 200-row limit per page - large datasets now display in manageable pages with navigation controls and row count indicators.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-24]</span> Cleaned up interface by removing "Extra Fields Available" section for better visual organization.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-24]</span> Added functional "all" and "none" links to filter sections - users can now quickly check or uncheck entire categories (Impact, Event Types, Currencies).</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-24]</span> Improved table layout - made table auto-expand to fit all content without cutting off data, added more compact styling with reduced padding and font sizes.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-24]</span> Enhanced table presentation - centered all table headers and prevented text wrapping in table cells for better readability.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-24]</span> Consolidated project structure - removed original basic version and made detailed version the main version. Renamed <code>index_detailed.*</code> files to <code>index.*</code> and <code>scrape_detailed.js</code> to <code>scrape.js</code>. Updated all internal references and removed "DETAILED" branding.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-24]</span> Separated JavaScript from HTML into <code>index_detailed.js</code> for better organization, maintainability, and caching performance.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-24]</span> Separated CSS from HTML into <code>index_detailed.css</code> for better organization, maintainability, and caching performance.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-24]</span> Enhanced JSON extraction with proper brace counting algorithm, successfully parsing rich event data from <code>window.calendarComponentStates[1]</code> - now extracting 20+ fields per event including eventId, country, revision, leaked status, etc.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-24]</span> Added Event Filters panel to DETAILED version with Impact, Event Types, and Currencies filter options - dark themed interface matching Forex Factory style.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Added post-processing to fill missing times - events in the same time block now all show the same time instead of having blanks.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Added cache-busting timestamps to all fetch requests to prevent browser caching issues with stale data.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Fixed download buttons to use current query parameters - JSON/CSV downloads now match the displayed data when using quick links (Today, Last Week, etc.).</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Removed deprecated Python scraper (<code>scrape.py</code>) and GitHub Actions workflow - project now uses Netlify Functions exclusively.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Fixed timezone offset issue - removed +1 hour offset that was incorrectly applied to ForexFactory times (changed default from 1 to 0).</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Improved date parsing to use explicit dates from ForexFactory headers directly without complex offset calculations.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Calendar selection now uses <code>start=</code> to return exactly 7 days (date +6).</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Week quick-links use <code>week=last|this|next</code> and compute correct Monday (Sunday bug fixed).</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Explicit <code>week=aug19.2025</code> parsing updated; baseline uses the explicit date.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Frontend buttons (Load/Download/Raw) aligned with <code>start=</code> behavior.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Manual scraping UI compacted; columns aligned; stacked action buttons.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Fixed quick-links JS error (orphaned <code>else</code>) and improved mobile spacing.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Removed "API Usage" section from the index page to simplify the interface.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Fixed date selection bug: explicit dates (e.g., Aug 19, 2025) now return data starting from the selected date, not from Monday of that week.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Default date now uses local time (fixed off-by-one day).</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> "Open Week on ForexFactory" builds the exact week URL from the selected date.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Initial load now fetches data via <code>week=</code> for parity with the FF button.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Added Change History page and link from the home page.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Data preview now shows all events; removed 20-item cap and updated header/note.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Fixed markdownlint by ignoring <code>LICENSE</code> via <code>.markdownlintignore</code> (MD041).</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Removed "Generate Scraping Command" feature (button, UI, and related JavaScript).</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Rearranged layout: Data Preview placed below buttons; Manual Scraping above Data Preview; API Usage moved to page bottom.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Changed backend to return a rolling 7-day window starting from the selected date; frontend default date is today.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Removed "Format" and "Cost" info cards from the header stats.</div>
            </div>
            <div class="entry">
                <div class="desc"><span class="date">[2025-08-23]</span> Updated info card text to "Returned Data â€” Selected Date +6 days = 7 day return".</div>
            </div>
        </div>
    </div>
</body>
</html>